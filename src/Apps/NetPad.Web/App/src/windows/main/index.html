<template class="theme-${settings.theme.toLowerCase()}">
    <require from="./script-environment-view/script-environment-view"></require>
    <require from="./sidebar/sidebar"></require>
    <require from="./statusbar/statusbar"></require>

    <div class="window d-flex flex-column">
        <div id="content" class="flex-grow-1 d-flex flex-row">
            <sidebar id="sidebar"></sidebar>
            <div id="scripts-content" class="flex-grow-height-restricted d-flex flex-column">
                <ul id="tabs" class="nav nav-tabs flex-shrink-0">
                    <li class="nav-item d-flex flex-row align-items-center script-tab ${session.active === env ? 'active' : ''}"
                        repeat.for="env of session.environments">
                        <div class="text d-flex align-items-center"
                             click.trigger="session.activate(env.script.id)"
                             auxclick.trigger="session.close(env.script.id)">
                            <span>
                                ${env.script.name}
                                ${env.status === 'Running' ? '[Running]' : ''}
                                ${env.script.isDirty ? '*' : ''}
                            </span>
                        </div>
                        <i class="bi bi-x action-icon hover-text-red"
                           title="${shortcutManager.getShortcutByName('Close').toString()}"
                           click.trigger="session.close(env.script.id)"></i>
                    </li>
                    <li class="nav-item script-tab new-script-tab d-flex align-items-center"
                        click.trigger="scriptService.create()"
                        title="${shortcutManager.getShortcutByName('New').toString()}">
                        <i class="bi bi-plus-lg"></i>
                    </li>
                </ul>
                <div id="script-environments" class="flex-grow-height-restricted d-flex flex-column">
                    <script-environment-view class="flex-grow-height-restricted d-flex flex-column"
                                             repeat.for="env of session.environments"
                                             show.bind="session.active === env"
                                             environment.bind="env"></script-environment-view>
                </div>
            </div>
        </div>
        <statusbar></statusbar>
    </div>
</template>
