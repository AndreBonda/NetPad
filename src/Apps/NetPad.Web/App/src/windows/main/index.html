<template class="theme-${settings.theme.toLowerCase()}">
    <require from="./script-environment-view/script-environment-view"></require>
    <require from="./sidebar/sidebar"></require>
    <require from="./statusbar/statusbar"></require>

    <div class="window d-flex flex-column">
        <div class="window-body flex-grow-1 d-flex flex-row">
            <sidebar></sidebar>
            <div id="content" class="flex-grow-1 d-flex flex-column">
                <ul id="tabs" class="nav nav-tabs">
                    <li class="nav-item"
                        repeat.for="env of session.environments">
                        <div class="script-tab ${session.active === env ? 'active' : ''}">
                            <div class="text"
                                 click.trigger="session.activate(env.script.id)"
                                 auxclick.trigger="session.close(env.script.id)">
                                ${env.script.name} ${env.script.isDirty ? '*' : ''}
                            </div>
                            <i class="bi bi-x action-danger"
                               title="${shortcutManager.getShortcutByName('Close').toString()}"
                               click.trigger="session.close(env.script.id)"></i>
                        </div>
                    </li>
                    <li class="nav-item"
                        click.trigger="scriptService.create()"
                        title="${shortcutManager.getShortcutByName('New').toString()}">
                        <div class="script-tab new-script-tab">
                            <i class="bi bi-plus-lg"></i>
                        </div>
                    </li>
                </ul>
                <div class="script-environments"
                     repeat.for="env of session.environments"
                     show.bind="session.active === env">
                    <script-environment-view environment.bind="env"></script-environment-view>
                </div>
            </div>
        </div>
        <statusbar></statusbar>
    </div>
</template>
