<template>
    <div class="header ps-2 pe-2 mb-3">
        <button class="btn btn-sm btn-success ${environment.status === 'Running' ? 'disabled' : ''}"
                title="${shortcutManager.getShortcutByName('Run').toString()}"
                click.trigger="run()">
            <i class="bi bi-play-fill"></i>
        </button>
        <button class="btn btn-sm btn-secondary"
                title="${shortcutManager.getShortcutByName('Save').toString()}"
                click.trigger="scriptService.save(script.id)">
            <i class="bi bi-disc-fill"></i>
        </button>
        <button class="btn btn-sm btn-secondary"
                title="${shortcutManager.getShortcutByName('Script Properties').toString()}"
                click.trigger="scriptService.openConfigWindow(script.id)">
            <i class="bi bi-gear-fill"></i>
        </button>
        <span class="ms-3">
            <b>Kind:</b>
            <select class="form-select form-select-sm script-kind-selector"
                    value.bind="kind">
                <option value="Expression">C# Expression (Not supported yet)</option>
                <option value="Statements">C# Statements</option>
                <option value="Program">C# Program (Doesn't auto-change code for you yet)</option>
            </select>
        </span>
        <span class="me-3 float-end">
            ${script.config.references.length} References | ${script.config.namespaces.length} Namespaces
        </span>
    </div>
    <div class="flex-grow-height-restricted">
        <div ref="textEditorPane" class="text-editor-pane d-flex overflow-hidden">
            <editor environment.bind="environment"
                    text.two-way="editorText"></editor>
        </div>
        <div ref="resultsPane" class="results-pane overflow-hidden">
            <div class="toolbar">
                <div class="row m-0 p-0">
                    <div class="col ps-2">
                        <b>Results</b>
                    </div>
                    <div class="col text-end pe-1">
                        <i class="bi bi-text-center action-icon ${resultsPaneSettings.textWrap ? 'text-blue' : ''}"
                           title="Text Wrap"
                           click.trigger="resultsPaneSettings.textWrap = !resultsPaneSettings.textWrap"></i>
                        <i class="bi bi-x action-icon hover-text-red"
                           title="Close Results"
                           click.trigger="collapseResultsPane()"></i>
                    </div>
                </div>
            </div>
            <div ref="resultsEl"
                 class="results pt-2 ${resultsPaneSettings.textWrap ? 'text-wrap' : ''}"></div>
        </div>
    </div>
</template>
