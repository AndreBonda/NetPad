<template class="d-flex flex-column">
    <require from="./script-environment-view/script-environment-view"></require>

    <ul class="nav nav-tabs flex-shrink-0">
        <li class="nav-item d-flex flex-row align-items-center script-tab ${session.active === env ? 'active' : ''}"
            repeat.for="env of session.environments"
            data-script-id.bind="env.script.id"
            title.bind="env.script.path || 'Unsaved'">
            <div class="text d-flex align-items-center"
                 click.trigger="session.activate(env.script.id)"
                 auxclick.trigger="tabSecondaryClicked(env.script.id, $event)">
                            <span>
                                ${env.script.name}
                                ${env.status === 'Running' ? '[Running]' : ''}
                                ${env.script.isDirty ? '*' : ''}
                            </span>
            </div>
            <i class="bi bi-x action-icon hover-text-red"
               title="${shortcutManager.getShortcutByName('Close').toString()}"
               click.trigger="session.close(env.script.id)"></i>
        </li>
        <li class="nav-item script-tab new-script-tab d-flex align-items-center"
            click.trigger="scriptService.create()"
            title="${shortcutManager.getShortcutByName('New').toString()}">
            <i class="bi bi-plus-lg"></i>
        </li>
    </ul>
    <div id="script-environments" class="flex-grow-height-restricted d-flex flex-column">
        <script-environment-view class="flex-grow-height-restricted d-flex flex-column"
                                 repeat.for="env of session.environments"
                                 show.bind="session.active.script.id === env.script.id"
                                 environment.bind="env"></script-environment-view>
    </div>

    <context-menu options.bind="tabContextMenuOptions"></context-menu>

</template>
